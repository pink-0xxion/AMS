@model AMS.Models.ViewModel.EmployeeStatusViewModel
@* @model IEnumerable<Attendance> *@

@{
	Layout = "~/Areas/Admin/Views/Shared/_Layout4.cshtml";
	ViewData["Title"] = "Index";
}

@* @foreach (var item in Model)
	{
		<p>@item.AttendanceId</p>
		<p>@item.EmployeeId</p>
		<p>@item.CheckInTime</p>
		<p>@item.CheckOutTime</p>
		<p>@item.Status</p>
		<p>@item.Remarks</p>
	}
 *@


<!--start row-->
<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4">
	<div class="col">
		<div class="card radius-10 bg-gradient-deepblue">
			<div class="card-body">
				<div class="d-flex align-items-center">
					<h5 class="mb-0 text-white">@Model.TotalEmployees</h5>
					<div class="ms-auto">
						<i class='bx bx-group fs-3 text-white'></i>
					</div>
				</div>
				<div class="progress my-2 bg-white-transparent" style="height:4px;">
					<div class="progress-bar bg-white" role="progressbar" style="width: 100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
				</div>
				<div class="d-flex align-items-center text-white">
					<p class="mb-0">Total Employees</p>
					@* <p class="mb-0 ms-auto">+4.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> *@
				</div>
			</div>
		</div>
	</div>
	<div class="col">
		<div class="card radius-10 bg-gradient-ohhappiness">
			<div class="card-body">
				<div class="d-flex align-items-center">
					<h5 class="mb-0 text-white">@Model.PresentToday</h5>
					<div class="ms-auto">
						<i class='bx bx-user-check fs-3 text-white'></i>
					</div>
				</div>
				<div class="progress my-2 bg-white-transparent" style="height:4px;">
					<div class="progress-bar bg-white" role="progressbar" style="width: 100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
				</div>
				<div class="d-flex align-items-center text-white">
					<p class="mb-0">Present Today</p>
					@* <p class="mb-0 ms-auto">+1.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> *@
				</div>
			</div>
		</div>
	</div>
	<div class="col">
		<div class="card radius-10 bg-gradient-ibiza">
			<div class="card-body">
				<div class="d-flex align-items-center">
					<h5 class="mb-0 text-white">@Model.AbsentToday</h5>
					<div class="ms-auto">
						<i class='bx bx-user-x fs-3 text-white'></i>
					</div>
				</div>
				<div class="progress my-2 bg-white-transparent" style="height:4px;">
					<div class="progress-bar bg-white" role="progressbar" style="width: 100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
				</div>
				<div class="d-flex align-items-center text-white">
					<p class="mb-0">Absent Today</p>
					@* <p class="mb-0 ms-auto">+5.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> *@
				</div>
			</div>
		</div>
	</div>
	<div class="col">
		<div class="card radius-10 bg-gradient-moonlit">
			<div class="card-body">
				<div class="d-flex align-items-center">
					<h5 class="mb-0 text-white">@Model.OnLeave</h5>
					<div class="ms-auto">
						<i class='bx bx-user-voice fs-3 text-white'></i>
					</div>
				</div>
				<div class="progress my-2 bg-white-transparent" style="height:4px;">
					<div class="progress-bar bg-white" role="progressbar" style="width: 100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
				</div>
				<div class="d-flex align-items-center text-white">
					<p class="mb-0">On Leave</p>
					@* <p class="mb-0 ms-auto">+2.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> *@
				</div>
			</div>
		</div>
	</div>
</div>
<!--end row-->




<!--Clock -->

<div class="card-header bg-primary text-white d-flex justify-content-between align-items-center px-4 py-3">
	<h5 class="mb-0 fw-bold">Employee Attendance Details</h5>
	<span id="liveClock" class="fs-5 fw-semibold"></span>
</div>





@* 
<h1 class="text-center fw-bold text-success mb-4" style="font-size: 2.5rem;">
    📋 Attendance Sheet
</h1> *@


@* attendance view *@


<div class="container my-4">
	<form id="attendanceForm">
		<div class="row g-3 align-items-end">
			<div class="col-md-4">
				<label for="employee" class="form-label">Select Employee</label>
				<select id="employee" name="employee" class="form-select">
					<option value="">-- Select Employee --</option>
				</select>
			</div>

			<div class="col-md-3">
				<label for="month" class="form-label">Month</label>
				<select name="month" class="form-select">
					<option value="">-- Select Month --</option>
					@for (int m = 1; m <= 12; m++)
					{
						<option value="@m">@System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(m)</option>
					}
				</select>
			</div>

			<div class="col-md-3">
				<label for="year" class="form-label">Year</label>
				<select name="year" class="form-select">
					<option value="">-- Select Year --</option>
					@for (int y = DateTime.Now.Year; y >= 2000; y--)
					{
						<option value="@y">@y</option>
					}
				</select>
			</div>

			<div class="col-md-2">
				<button type="submit" class="btn btn-primary w-100">
					🔍 Show
				</button>
			</div>
		</div>
	</form>
</div>


<partial name="_AttendanceTable" />

@* 
<div id="noDataMessage" class="text-center text-danger my-3" style="display: none;"></div>

<div id="instructions" class="d-none flex-wrap gap-3 p-3 mb-3 border rounded-4 shadow-sm bg-light" style="display: none;">
    <span class="badge bg-success fs-6 px-3 py-2">✔️ Present</span>
    <span class="badge bg-danger fs-6 px-3 py-2">❌ Absent</span>
    <span class="badge bg-warning text-dark fs-6 px-3 py-2">⏸️ Leave</span>
    <span class="badge bg-info text-dark fs-6 px-3 py-2">🌓 Half Day</span>
</div>

<div id="attendanceTableContainer">
    <div class="table-responsive mt-4">
        <table class="table table-bordered text-center align-middle" id="attendanceTable">
            <thead id="attendanceHead">
                <!-- Header will be built dynamically in JS -->
            </thead>
            <tbody id="attendanceBody">
                <!-- Data rows will be injected here -->
            </tbody>
        </table>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/js/attendance.js"></script>
*@






<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/js/attendance.js"></script>
<script src="~/js/Clock.js"></script>
